<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>

    <link href="css/StyleDefult.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/lightbox.min.css" rel="stylesheet" />

    <script src="scripts/jquery-3.3.1.js"></script>

    <script type="text/javascript" src="cordova.js"></script>

    <!-- <script src="scripts/app.js"></script> -->
    <script src="scripts/database.js"></script>
    <script src="scripts/jsMultiResponseOpen.js"></script>
    <style>
        /* The container */
        .container {
            display: block;
            position: relative;
            padding-left: 35px;
            margin-bottom: 12px;
            cursor: pointer;
            font-size: 12px;
            text-align:left;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            max-width:100px;
        }

            /* Hide the browser's default radio button */
            .container input {
                position: absolute;
                opacity: 0;
                cursor: pointer;
            }

        /* Create a custom radio button */
        .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 25px;
            width: 25px;
            background-color: #eee;
            border-radius: 50%;
        }

        /* On mouse-over, add a grey background color */
        .container:hover input ~ .checkmark {
            background-color: #ccc;
        }

        /* When the radio button is checked, add a blue background */
        .container input:checked ~ .checkmark {
            background-color: #2196F3;
        }

        /* Create the indicator (the dot/circle - hidden when not checked) */
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        /* Show the indicator (dot/circle) when checked */
        .container input:checked ~ .checkmark:after {
            display: block;
        }

        /* Style the indicator (dot/circle) */
        .container .checkmark:after {
            top: 9px;
            left: 9px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
        }
    </style>
    <script type="text/javascript">
        //var db;
        var id;
        var TV = 0;
        var kisi = 0;
        document.addEventListener("deviceready", onDeviceReady, false);
        function onDeviceReady() {

            //var db = window.sqlitePlugin.openDatabase({ name: 'my.db', location: 'default' });
            InterviewID = window.localStorage["InterviewID"];
         
        }


        window.onload = function () {
            var queryStrings = getUrlVars();
         //   TV = parseInt(queryStrings["TV"]);
            id = window.localStorage["InterviewID"] 
            otherValue.push("1");
            otherValue.push("2");
            otherValue.push("3");
            otherObj.push(document.getElementById("tel_O_1"));
            otherObj.push(document.getElementById("tel_O_2"));
            otherObj.push(document.getElementById("tel_O_3"));

            SetStartUp();

          
            //   db = window.sqlitePlugin.openDatabase({ name: 'my.db', location: 'default' });
        };

        var currentValueR = null;


        function CheckValueRadio() {


            for (i = 0; i < document.forms[0].elements.length; i++) {
                var obj = document.forms[0].elements[i];
                if (obj.type == "text") {
                    var valText = obj.value;
                    for (var z = 0; z < valText.length; z++) {
                        var sayT = 0;
                        for (var x = 0; x < valText.length; x++) {
                            if (valText[z] == valText[x])
                            {
                                sayT++;
                            }
                        }
                        if (sayT > 6)
                        {
                            alert("Yazılan telefon numarası çok fazla tekrar eden rakamdan oluşuyor. Lütfen Telefon numarasını kontrol ediniz! ");
                            return false;
                        }
                    }
                }
            }

            return true;
        }

   

        function getUrlVars() {
            var vars = [], hash;
            var indexofHash = window.location.href.indexOf('#');
            var hashes;
            if (indexofHash == -1) {
                hashes = window.location.href.slice((window.location.href.indexOf('?')) + 1).split('&');
            } else {
                hashes = window.location.href.slice((window.location.href.indexOf('#')) + 1).split('&');
            }
            for (var i = 0; i < hashes.length; i++) {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            return vars;
        }

        function gecisKontrol() {
            var kontrol = CheckValues();
            var kontrol2 = CheckValueRadio();
            if (kontrol && kontrol2) {
                
                var aswer = "";
                $.each($("input[name='tel']:checked"), function () {
                    if (aswer != "") aswer += ",";
                    aswer += $(this).val();

                });
                if (aswer != "") {
                    if (aswer == "5") {
                        myUpdateRedirect("INTERVIEWS", "tel='" + aswer + "',tel_O_1='" + document.getElementById("tel_O_1").value + "',tel_O_2='" + document.getElementById("tel_O_2").value + "',tel_O_3='" + document.getElementById("tel_O_3").value + "'", " InterviewID=" + window.localStorage["InterviewID"], "Response.html?id=" + window.localStorage["InterviewID"] + "&statu=101");
                    }
                    else
                    {
                        myUpdateRedirect("INTERVIEWS", "tel='" + aswer + "',tel_O_1='" + document.getElementById("tel_O_1").value + "',tel_O_2='" + document.getElementById("tel_O_2").value + "',tel_O_3='" + document.getElementById("tel_O_3").value + "'", " InterviewID=" + window.localStorage["InterviewID"], "GK.html?id=" + window.localStorage["InterviewID"]);
                    }

                }
                else {
                    alert("Boş Geçilemez!");
                }

                //window.location.href = "E1.html?id=" + id;
                /* db = window.sqlitePlugin.openDatabase({ name: 'my.db', location: 'default' });
                 db.transaction(function (tx) {

                     tx.executeSql("SELECT F0 FROM INTERVIEWS where InterviewID=" + id, [], function (tx, val) {
                         if (val.rows.length > 0) {

                         }
                         else {
                             alert("Anket Yok");
                         }
                     });
                 });*/
            }
        }

        function goBack() {
            window.history.back();
        }
    </script>
</head>
<body>
    <form id="form1">
        <table border="0" id="QuestionText">
            <tbody>
                <tr>
                    <td>
                        <span id="StepNameTD">tel.</span><span id="QuestionTextTD">
                                                             <font face="calibri" color="#000000" size="2">
                                                                 Ev telefon numaranızı / Cep Telefonunuzu ve varsa İş Telefonunuzu öğrenebilir miyim? (Verilen Tüm Numaraları Kaydediniz)
                                                                <br /><br /> (Görüşülen kişi Hanehalkı Reisi ya da eşi değil ise bu kişilerin iş ve cep telefon numarasını alınız)

                                                                
                                                             </font><p align="left"><font face="calibri" color="#000000" size="2"></font><b><font face="arial" color="#000000" size="2">
    <span id="StepNameTD">tel.</span><span id="QuestionTextTD">
        <font face="calibri" color="#000000" size="2">
            Bu numaraların  hangisinden en kolay şekilde sizinle iletişime geçilebilir?
        </font></span>
</b><font face="arial" color="#000000" size="2">      </font></p>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
        <div id="QuestionBuilderPanel">
            <table border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td>
                        <table id="QuestionTable">
            
                            <tbody>
                                <tr class="AlternateTableRow">
                                    <td class="columnDivider"></td>
                                    <td align="right">1</td>
                                    <td align="right"><input type="checkbox" class="checkboxStyle" name="tel" id="tel_1" value="1" openend="true" isnumeric="" size="" maxlength="" norotate="true" deselectother="false" itemdisabled="false"><span></span></td>
                                    <td ><label for="tel_1">Cep Telefonu &nbsp;</label><label for="tel_o"><input type="text" class="textStyle" name="tel_O_1" id="tel_O_1" value="" datatype="varchar" stepname="tel" expression="^[5]{1}[0-9]{9}$" expressionmessage="Cep telefonunu 10 haneli olarak giriniz. Örn: 5554443322" precision="18" scale="2" objecttype="single" disabled=""></label></td>

                                </tr>

                                <tr>
                                    <td class="columnDivider"></td>
                                    <td align="right">2</td>
                                    <td align="right"><input type="checkbox" class="checkboxStyle" name="tel" id="tel_2" value="2" openend="true" isnumeric="" size="" maxlength="" norotate="true" deselectother="false" itemdisabled="false"><span></span></td>
                                    <td ><label for="tel_2">İş Telefonu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><label for="tel_o"><input type="text" class="textStyle" name="tel_O_2" id="tel_O_2" value="" datatype="varchar" stepname="tel" precision="18" scale="2" objecttype="single" disabled=""></label></td>

                                </tr>

                                <tr class="AlternateTableRow">
                                    <td class="columnDivider"></td>
                                    <td align="right">3</td>
                                    <td align="right"><input type="checkbox" class="checkboxStyle" name="tel" id="tel_3" value="3" openend="true" isnumeric="" size="" maxlength="" norotate="true" deselectother="false" itemdisabled="false"><span></span></td>
                                    <td ><label for="tel_3">Ev Telefonu&nbsp;&nbsp;&nbsp;&nbsp;</label><label for="tel_o"><input type="text" class="textStyle" name="tel_O_3" id="tel_O_3" value="" datatype="varchar" stepname="tel" precision="18" scale="2" objecttype="single" expression="^[0-9]{3}[0-9]{7}$" expressionmessage="Ev telefonunu 10 haneli olarak giriniz. Örn: 2124443322" disabled=""></label></td>

                                </tr>
                                <tr>
                                    <td class="columnDivider"></td>
                                    <td align="right">4</td>
                                    <td align="right"><input type="checkbox" class="checkboxStyle" name="tel" id="tel_4" value="4" openend="true" isnumeric="" size="" maxlength="" norotate="true" deselectother="true" itemdisabled="false"><span></span></td>
                                    <td><label for="tel_4">Telefon Numarasını Vermedi.</label></td>

                                </tr>
                                <tr class="AlternateTableRow">
                                    <td class="columnDivider"></td>
                                    <td align="right">5</td>
                                    <td align="right"><input type="checkbox" class="checkboxStyle" name="tel" id="tel_5" value="5" openend="true" isnumeric="" size="" maxlength="" norotate="true" deselectother="true" itemdisabled="false"><span></span></td>
                                    <td><label for="tel_5">Hane Bilgisi Başkasından Alındı.</label></td>

                                </tr>

                            </tbody>
                        </table>
                <tr><td colspan="4">&nbsp;</td></tr>
                <tr>
                    <td colspan="3">    <input type="button" value="Durum Kodla" onclick="javascript: window.location.href = 'ResponseKodu.html';" /></td>
                    <td  align="right">        <input type="button" id="next" name="next" value="İleri" onclick="gecisKontrol();" /></td>
                </tr>
            </table>
        </div>
    </form>
</body>
</html>